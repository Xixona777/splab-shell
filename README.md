# Shell Time Manager

## üìö –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –Ω–∞ —è–∑—ã–∫–µ C —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ –ª–æ–≥–∏–Ω—É –∏ PIN
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π (libcrypt)
- –°—Ç–∞—Ç—É—Å–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- –ö–æ–º–∞–Ω–¥:
  - `register <login> <pin>` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  - `login <login> <pin>` ‚Äî –≤—Ö–æ–¥
  - `logout` ‚Äî –≤—ã—Ö–æ–¥
  - `time`, `date` ‚Äî —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∏ –¥–∞—Ç–∞
  - `howmuch <dd/mm/yyyy> <-s|-m|-h|-y|-d>` ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π
  - `sanctions <login> <number>` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç –∫–æ–º–∞–Ω–¥ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
  - `listusers` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
  - `help`, `exit`

## üõ† –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
make
./app
```

## üßπ –û—á–∏—Å—Ç–∫–∞
```bash
make clean
```

## üìÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–§–∞–π–ª `db.txt` —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```
login hashed_password attempts
```
–ü—Ä–∏–º–µ—Ä:
```
admin $6$.... 5
```

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ü–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–¥–º–∏–Ω–æ–º
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –ê–¥–º–∏–Ω –∏–º–µ–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
















# –ü–æ–ª–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

## üì¶ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–≠—Ç–æ —É—á–µ–±–Ω–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ (`shell`) –Ω–∞ —è–∑—ã–∫–µ C, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è:
- —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ PIN-–∫–æ–¥–æ–≤
- –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–∞–¥–º–∏–Ω/–æ–±—ã—á–Ω—ã–π)
- –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (`time`, `date`, `howmuch`)
- —Å–∞–Ω–∫—Ü–∏–∏ –∏ —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–π–ª            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------------|------------|
| `main.c`        | –û—Å–Ω–æ–≤–Ω–æ–π –≤–≤–æ–¥ –∏ –ª–æ–≥–∏–∫–∞ |
| `db.c/.h`       | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, PIN, –±–∞–∑–∞ |
| `user.h`        | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `enums.h`       | –ö–æ–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞ (`SUCCESS`, `ERROR`, ...) |
| `date_utils.c/.h`| –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ |
| `db.txt`        | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| `Makefile`      | –°–±–æ—Ä–∫–∞ |
| `README.md`     | –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ |
| `code_explained.md` | –≠—Ç–æ —Ñ–∞–π–ª: —Ä–∞–∑–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã |

---

## üîÑ –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ó–∞–ø—É—Å–∫ `./app` (–∏–ª–∏ `make run`)
2. –í—ã–≤–æ–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
3. `while (1)` ‚Äî —Ü–∏–∫–ª –≤–≤–æ–¥–∞
4. –†–∞–∑–±–æ—Ä –∫–æ–º–∞–Ω–¥
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤—Ö–æ–¥, –∞–¥–º–∏–Ω)
6. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: `time`, `date`, `howmuch`, `sanctions`, `listusers`, ...
7. `exit` ‚Äî –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### `register_user(...)`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–≥–∏–Ω –∏ PIN
- –•–µ—à–∏—Ä—É–µ—Ç PIN
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ `db.txt`: `login hash attempts`

### `login_user(...)`
- –ò—â–µ—Ç –ª–æ–≥–∏–Ω
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç PIN (—Å–æ–ª—å+—Ö–µ—à)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥–∏ `user.is_logged_in`, `user.is_admin`

### `list_users(...)`
- –í—ã–≤–æ–¥ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### `change_attempts(...)`
- –ü–æ–º–µ—á–∞–µ—Ç —Å—Ç–∞—Ä—É—é —Å—Ç—Ä–æ–∫—É `NU`
- –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å –ª–∏–º–∏—Ç–æ–º

---

## üìå –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------------|------------|
| `fgets()`      | –í–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ —Å –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ —Ñ–∞–π–ª–∞ |
| `strtok()`     | –†–∞–∑–±–∏–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —á–∞—Å—Ç–∏ |
| `fopen()`      | –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ |
| `fprintf()`    | –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª |
| `crypt_ra()`   | –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ PIN —Å —Å–æ–ª—å—é |
| `crypt_gensalt_ra()` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–ª–∏ |
| `strdup()`     | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ |
| `atoi()`       | –°—Ç—Ä–æ–∫–∞ ‚Üí —á–∏—Å–ª–æ |
| `sscanf()`     | –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É |

---

## üß† –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```
register admin 1234
login admin 1234
time
date
howmuch 01/01/2000 -y
sanctions user1 3
listusers
logout
exit
```

---

## üß™ –ê–¥–º–∏–Ω
- –ü–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ `db.txt` ‚Äî —ç—Ç–æ –∞–¥–º–∏–Ω
- –ê–¥–º–∏–Ω –Ω–µ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –ø–æ–ø—ã—Ç–∫–∞–º
- –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å `sanctions` –∏ `listusers`

---

## üßπ –û—á–∏—Å—Ç–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

```bash
make clean
make
make run
```

---

